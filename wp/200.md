<!--
author: qingliangcn
date: 2010-01-02
title: OTP中supervisor启动过程
tags: 
category: Erlang
status: publish
summary: &nbsp;从rabbit_sup模块开始看起：rabbit_sup模块的start_link是被rabbit&nbsp;app模块的start/2方法所调用的rabbit.erl文件：start(normal,&nbsp;[])&nbsp;-&gt;{ok,&nbsp;SupP
-->

<p>&nbsp;</p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: '宋体'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">从<font face="Courier New">rabbit_sup</font><font face="宋体">模块开始看起：</font></span><span style="font-family: '宋体'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: '宋体'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">rabbit_sup<font face="宋体">模块的</font><font face="Courier New">start_link</font><font face="宋体">是被</font><font face="Courier New">rabbit&nbsp;app</font><font face="宋体">模块的</font><font face="Courier New">start/2</font><font face="宋体">方法所调用的</font></span><span style="font-family: '宋体'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: '宋体'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: '宋体'; color: rgb(0,0,255); font-size: 10pt; mso-spacerun: 'yes'">rabbit.erl<font face="宋体">文件：</font></span><span style="font-family: '宋体'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">start(normal,&nbsp;[])&nbsp;-&gt;</span><span style="font-family: 'courier new'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; text-indent: 21pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">{ok,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">SupPid</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">}&nbsp;=&nbsp;rabbit_sup:start_link(),</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; text-indent: 21pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,255); font-size: 10pt; mso-spacerun: 'yes'">rabbit_sup.erl文件：</span><span style="font-family: 'courier new'; color: rgb(0,0,255); font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; background: rgb(255,255,255); color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">-define(</span><span style="font-family: 'courier new'; background: rgb(255,255,255); color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">SERVER</span><span style="font-family: 'courier new'; background: rgb(255,255,255); color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; background: rgb(255,255,255); color: rgb(95,158,160); font-size: 10pt; mso-spacerun: 'yes'">?MODULE</span><span style="font-family: 'courier new'; background: rgb(255,255,255); color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">)</span><span style="font-family: 'courier new'; background: rgb(255,255,255); color: rgb(0,0,255); font-size: 10pt; mso-spacerun: 'yes'">.</span><span style="font-family: 'courier new'; color: rgb(0,0,255); font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">start_link()&nbsp;-&gt;</span><span style="font-family: 'courier new'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; text-indent: 21pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">supervisor:start_link({local,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(95,158,160); font-size: 10pt; mso-spacerun: 'yes'">?SERVER</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">},&nbsp;</span><span style="font-family: 'courier new'; color: rgb(95,158,160); font-size: 10pt; mso-spacerun: 'yes'">?MODULE</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;[])</span><span style="font-family: 'courier new'; color: rgb(0,0,255); font-size: 10pt; mso-spacerun: 'yes'">.</span><span style="font-family: 'courier new'; color: rgb(0,0,255); font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; text-indent: 21pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,255); font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'times new roman'; font-size: 10pt; mso-spacerun: 'yes'">这里的?SERVER和?MODULE是一样的值，都为rabbit_sup&nbsp;。<!--more--></span><span style="font-family: '宋体'; color: rgb(0,0,255); font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; text-indent: 21pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,255); font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: '宋体'; color: rgb(0,0,255); font-size: 10pt; mso-spacerun: 'yes'">跳转到</span><span style="font-family: 'courier new'; color: rgb(0,0,255); font-size: 10pt; mso-spacerun: 'yes'">supervisor</span><span style="font-family: '宋体'; color: rgb(0,0,255); font-size: 10pt; mso-spacerun: 'yes'">.erl<font face="宋体">文件：</font></span><span style="font-family: '宋体'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: '宋体'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">start_link(</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">SupName</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Mod</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Args</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">)&nbsp;-&gt;</span><span style="font-family: 'courier new'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; text-indent: 21pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">gen_server:start_link(</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">SupName</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;supervisor,&nbsp;{</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">SupName</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Mod</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Args</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">},&nbsp;[])</span><span style="font-family: 'courier new'; color: rgb(0,0,255); font-size: 10pt; mso-spacerun: 'yes'">.</span><span style="font-family: 'courier new'; color: rgb(0,0,255); font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; text-indent: 21pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,255); font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'times new roman'; font-size: 10pt; mso-spacerun: 'yes'">看到supervisor的start_link实际上调用的是gen_server的start_link方法，调用的时候将supervisor作为一个参数传递过去了。</span><span style="font-family: 'times new roman'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'times new roman'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'times new roman'; font-size: 10pt; mso-spacerun: 'yes'">这样到目前为止我们的调用实际为：</span><span style="font-family: 'times new roman'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'times new roman'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(255,0,0); font-size: 10pt; mso-spacerun: 'yes'">gen_server:start_link({local,&nbsp;rabbit_sup},&nbsp;supervisor,&nbsp;{{local,&nbsp;rabbit_sup},&nbsp;rabbit_sup,&nbsp;[]},&nbsp;[]).</span><span style="font-family: 'courier new'; color: rgb(0,0,255); font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,255); font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: '宋体'; color: rgb(0,0,255); font-size: 10pt; mso-spacerun: 'yes'">gen_server.erl<font face="宋体">文件：</font></span><span style="font-family: '宋体'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">start_link(</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Mod</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Args</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Options</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">)&nbsp;-&gt;</span><span style="font-family: 'courier new'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">&nbsp;&nbsp;&nbsp;&nbsp;gen:start(</span><span style="font-family: 'courier new'; color: rgb(95,158,160); font-size: 10pt; mso-spacerun: 'yes'">?MODULE</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;link,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Mod</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Args</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Options</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">)</span><span style="font-family: 'courier new'; color: rgb(0,0,255); font-size: 10pt; mso-spacerun: 'yes'">.</span><span style="font-family: 'courier new'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">start_link(</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Name</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Mod</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Args</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Options</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">)&nbsp;-&gt;</span><span style="font-family: 'courier new'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; text-indent: 21pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">gen:start(</span><span style="font-family: 'courier new'; color: rgb(95,158,160); font-size: 10pt; mso-spacerun: 'yes'">?MODULE</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;link,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Name</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Mod</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Args</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Options</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">)</span><span style="font-family: 'courier new'; color: rgb(0,0,255); font-size: 10pt; mso-spacerun: 'yes'">.</span><span style="font-family: 'courier new'; color: rgb(0,0,255); font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; text-indent: 21pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,255); font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: '宋体'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">gen_server<font face="宋体">的</font><font face="Courier New">start_link</font><font face="宋体">方法调用了</font><font face="Courier New">gen</font><font face="宋体">模块的</font><font face="Courier New">start</font><font face="宋体">方法，实际调用为：</font></span><span style="font-family: '宋体'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: '宋体'; color: rgb(255,0,0); font-size: 10pt; mso-spacerun: 'yes'">gen:start(gen_server,&nbsp;link,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(255,0,0); font-size: 10pt; mso-spacerun: 'yes'">{local,&nbsp;rabbit_sup},supervisor,&nbsp;{{local,&nbsp;rabbit_sup},&nbsp;rabbit_sup,&nbsp;[]},&nbsp;[]).</span><span style="font-family: '宋体'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: '宋体'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: '宋体'; color: rgb(0,0,255); font-size: 10pt; mso-spacerun: 'yes'">gen.erl<font face="宋体">文件：</font></span><span style="font-family: '宋体'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">start(</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">GenMod</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">LinkP</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Name</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Mod</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Args</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Options</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">)&nbsp;-&gt;</span><span style="font-family: 'courier new'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-family: 'courier new'; color: rgb(160,32,240); font-size: 10pt; font-weight: bold; mso-spacerun: 'yes'">case</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">&nbsp;where(</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Name</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">)&nbsp;</span><span style="font-family: 'courier new'; color: rgb(160,32,240); font-size: 10pt; font-weight: bold; mso-spacerun: 'yes'">of</span><span style="font-family: 'courier new'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">undefined&nbsp;-&gt;</span><span style="font-family: 'courier new'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">&nbsp;&nbsp;&nbsp;&nbsp;do_spawn(</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">GenMod</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">LinkP</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Name</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Mod</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Args</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Options</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">);</span><span style="font-family: 'courier new'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Pid</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">&nbsp;-&gt;</span><span style="font-family: 'courier new'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">&nbsp;&nbsp;&nbsp;&nbsp;{error,&nbsp;{already_started,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Pid</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">}}</span><span style="font-family: 'courier new'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; text-indent: 21pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(160,32,240); font-size: 10pt; font-weight: bold; mso-spacerun: 'yes'">end</span><span style="font-family: 'courier new'; color: rgb(0,0,255); font-size: 10pt; mso-spacerun: 'yes'">.</span><span style="font-family: 'courier new'; color: rgb(0,0,255); font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; text-indent: 21pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,255); font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'times new roman'; font-size: 10pt; mso-spacerun: 'yes'">start之前判断是否已经创建了该process，没有则创建，有则返回错误！</span><span style="font-family: '宋体'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: '宋体'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">do_spawn(</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">GenMod</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;link,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Name</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Mod</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Args</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(0,0,255); font-size: 10pt; text-decoration: underline; mso-spacerun: 'yes'">Options</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">)&nbsp;-&gt;</span><span style="font-family: 'courier new'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Time</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">&nbsp;=&nbsp;timeout(</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Options</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">),</span><span style="font-family: 'courier new'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">&nbsp;&nbsp;&nbsp;&nbsp;proc_lib:start_link(</span><span style="font-family: 'courier new'; color: rgb(95,158,160); font-size: 10pt; mso-spacerun: 'yes'">?MODULE</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;init_it,</span><span style="font-family: 'courier new'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">[</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">GenMod</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;self(),&nbsp;self(),&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Name</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Mod</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Args</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Options</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">],</span><span style="font-family: 'courier new'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Time</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,</span><span style="font-family: 'courier new'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">spawn_opts(</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Options</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">));</span><span style="font-family: 'courier new'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">do_spawn(</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">GenMod</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">_</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Name</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Mod</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Args</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Options</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">)&nbsp;-&gt;</span><span style="font-family: 'courier new'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Time</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">&nbsp;=&nbsp;timeout(</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Options</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">),</span><span style="font-family: 'courier new'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">&nbsp;&nbsp;&nbsp;&nbsp;proc_lib:start(</span><span style="font-family: 'courier new'; color: rgb(95,158,160); font-size: 10pt; mso-spacerun: 'yes'">?MODULE</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;init_it,</span><span style="font-family: 'courier new'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">&nbsp;&nbsp;&nbsp;[</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">GenMod</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;self(),&nbsp;self,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Name</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Mod</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Args</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Options</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">],&nbsp;</span><span style="font-family: 'courier new'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">&nbsp;&nbsp;&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Time</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,</span><span style="font-family: 'courier new'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">&nbsp;&nbsp;&nbsp;spawn_opts(</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Options</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">))</span><span style="font-family: 'courier new'; color: rgb(0,0,255); font-size: 10pt; mso-spacerun: 'yes'">.</span><span style="font-family: 'courier new'; color: rgb(0,0,255); font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,255); font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'times new roman'; font-size: 10pt; mso-spacerun: 'yes'">实际又是调用了gen模块的init</span><span style="font-family: '宋体'; font-size: 10pt; mso-spacerun: 'yes'">_it<font face="宋体">方法，采用的</font><font face="Times New Roman">link</font><font face="宋体">的</font><font face="Times New Roman">spawn</font><font face="宋体">方式。</font></span><span style="font-family: '宋体'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: '宋体'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: '宋体'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">init_it(</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">GenMod</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Starter</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Parent</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Mod</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Args</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Options</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">)&nbsp;-&gt;</span><span style="font-family: 'courier new'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">&nbsp;&nbsp;&nbsp;&nbsp;init_it2(</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">GenMod</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Starter</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Parent</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;self(),&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Mod</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Args</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Options</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">)</span><span style="font-family: 'courier new'; color: rgb(0,0,255); font-size: 10pt; mso-spacerun: 'yes'">.</span><span style="font-family: 'courier new'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">init_it(</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">GenMod</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Starter</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Parent</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Name</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Mod</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Args</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Options</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">)&nbsp;-&gt;</span><span style="font-family: 'courier new'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-family: 'courier new'; color: rgb(160,32,240); font-size: 10pt; font-weight: bold; mso-spacerun: 'yes'">case</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">&nbsp;name_register(</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Name</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">)&nbsp;</span><span style="font-family: 'courier new'; color: rgb(160,32,240); font-size: 10pt; font-weight: bold; mso-spacerun: 'yes'">of</span><span style="font-family: 'courier new'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">true&nbsp;-&gt;</span><span style="font-family: 'courier new'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">&nbsp;&nbsp;&nbsp;&nbsp;init_it2(</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">GenMod</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Starter</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Parent</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Name</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Mod</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Args</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Options</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">);</span><span style="font-family: 'courier new'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">{false,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Pid</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">}&nbsp;-&gt;</span><span style="font-family: 'courier new'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">&nbsp;&nbsp;&nbsp;&nbsp;proc_lib:init_ack(</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Starter</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;{error,&nbsp;{already_started,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Pid</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">}})</span><span style="font-family: 'courier new'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-family: 'courier new'; color: rgb(160,32,240); font-size: 10pt; font-weight: bold; mso-spacerun: 'yes'">end</span><span style="font-family: 'courier new'; color: rgb(0,0,255); font-size: 10pt; mso-spacerun: 'yes'">.</span><span style="font-family: '宋体'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: '宋体'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: '宋体'; font-size: 10pt; mso-spacerun: 'yes'">首先尝试注册这个名字，如果发现已经注册，则通知父进程已经创建了。否则跳转到</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">init_in2，</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">init_it2(</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">GenMod</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Starter</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(0,0,255); font-size: 10pt; text-decoration: underline; mso-spacerun: 'yes'">Parent</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Name</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Mod</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Args</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Options</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">)&nbsp;-&gt;</span><span style="font-family: 'courier new'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; text-indent: 21pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">GenMod</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">:init_it(</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Starter</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Parent</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Name</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Mod</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Args</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Options</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">)</span><span style="font-family: 'courier new'; color: rgb(0,0,255); font-size: 10pt; mso-spacerun: 'yes'">.</span><span style="font-family: 'courier new'; color: rgb(0,0,255); font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; text-indent: 21pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,255); font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'times new roman'; font-size: 10pt; mso-spacerun: 'yes'">这时又跳转到gen_server:init_it方法。</span><span style="font-family: '宋体'; color: rgb(0,0,255); font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: '宋体'; color: rgb(0,0,255); font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">init_it(</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Starter</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;self,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Name</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Mod</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Args</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Options</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">)&nbsp;-&gt;</span><span style="font-family: 'courier new'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">&nbsp;&nbsp;&nbsp;&nbsp;init_it(</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Starter</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;self(),&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Name</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Mod</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Args</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Options</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">);</span><span style="font-family: 'courier new'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">init_it(</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Starter</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Parent</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Name0</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Mod</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Args</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Options</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">)&nbsp;-&gt;</span><span style="font-family: 'courier new'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Name</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">&nbsp;=&nbsp;name(</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Name0</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">),</span><span style="font-family: 'courier new'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Debug</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">&nbsp;=&nbsp;debug_options(</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Name</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Options</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">),</span><span style="font-family: 'courier new'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-family: 'courier new'; color: rgb(160,32,240); font-size: 10pt; font-weight: bold; mso-spacerun: 'yes'">case</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">&nbsp;</span><span style="font-family: 'courier new'; color: rgb(160,32,240); font-size: 10pt; font-weight: bold; mso-spacerun: 'yes'">catch</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Mod</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">:init(</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Args</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">)&nbsp;</span><span style="font-family: 'courier new'; color: rgb(160,32,240); font-size: 10pt; font-weight: bold; mso-spacerun: 'yes'">of</span><span style="font-family: 'courier new'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">{ok,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">State</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">}&nbsp;-&gt;</span><span style="font-family: 'courier new'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">&nbsp;&nbsp;&nbsp;&nbsp;proc_lib:init_ack(</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Starter</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;{ok,&nbsp;self()}),&nbsp;</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'"> </span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-family: 'courier new'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">&nbsp;&nbsp;&nbsp;&nbsp;loop(</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Parent</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Name</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">State</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Mod</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;infinity,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Debug</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">);</span><span style="font-family: 'courier new'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">{ok,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">State</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Timeout</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">}&nbsp;-&gt;</span><span style="font-family: 'courier new'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">&nbsp;&nbsp;&nbsp;&nbsp;proc_lib:init_ack(</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Starter</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;{ok,&nbsp;self()}),&nbsp;</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'"> </span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-family: 'courier new'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">&nbsp;&nbsp;&nbsp;&nbsp;loop(</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Parent</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Name</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">State</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Mod</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Timeout</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Debug</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">);</span><span style="font-family: 'courier new'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">{stop,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Reason</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">}&nbsp;-&gt;</span><span style="font-family: 'courier new'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-family: 'courier new'; color: rgb(178,34,34); font-size: 10pt; mso-spacerun: 'yes'">%%&nbsp;For&nbsp;consistency,&nbsp;we&nbsp;must&nbsp;make&nbsp;sure&nbsp;that&nbsp;the</span><span style="font-family: 'courier new'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-family: 'courier new'; color: rgb(178,34,34); font-size: 10pt; mso-spacerun: 'yes'">%%&nbsp;registered&nbsp;name&nbsp;(if&nbsp;any)&nbsp;is&nbsp;unregistered&nbsp;before</span><span style="font-family: 'courier new'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-family: 'courier new'; color: rgb(178,34,34); font-size: 10pt; mso-spacerun: 'yes'">%%&nbsp;the&nbsp;parent&nbsp;process&nbsp;is&nbsp;notified&nbsp;about&nbsp;the&nbsp;failure.</span><span style="font-family: 'courier new'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-family: 'courier new'; color: rgb(178,34,34); font-size: 10pt; mso-spacerun: 'yes'">%%&nbsp;(Otherwise,&nbsp;the&nbsp;parent&nbsp;process&nbsp;could&nbsp;get</span><span style="font-family: 'courier new'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-family: 'courier new'; color: rgb(178,34,34); font-size: 10pt; mso-spacerun: 'yes'">%%&nbsp;an&nbsp;&#39;already_started&#39;&nbsp;error&nbsp;if&nbsp;it&nbsp;immediately</span><span style="font-family: 'courier new'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-family: 'courier new'; color: rgb(178,34,34); font-size: 10pt; mso-spacerun: 'yes'">%%&nbsp;tried&nbsp;starting&nbsp;the&nbsp;process&nbsp;again.)</span><span style="font-family: 'courier new'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">&nbsp;&nbsp;&nbsp;&nbsp;unregister_name(</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Name0</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">),</span><span style="font-family: 'courier new'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">&nbsp;&nbsp;&nbsp;&nbsp;proc_lib:init_ack(</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Starter</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;{error,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Reason</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">}),</span><span style="font-family: 'courier new'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">&nbsp;&nbsp;&nbsp;&nbsp;exit(</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Reason</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">);</span><span style="font-family: 'courier new'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">ignore&nbsp;-&gt;</span><span style="font-family: 'courier new'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">&nbsp;&nbsp;&nbsp;&nbsp;unregister_name(</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Name0</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">),</span><span style="font-family: 'courier new'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">&nbsp;&nbsp;&nbsp;&nbsp;proc_lib:init_ack(</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Starter</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;ignore),</span><span style="font-family: 'courier new'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">&nbsp;&nbsp;&nbsp;&nbsp;exit(normal);</span><span style="font-family: 'courier new'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">{&#39;EXIT&#39;,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Reason</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">}&nbsp;-&gt;</span><span style="font-family: 'courier new'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">&nbsp;&nbsp;&nbsp;&nbsp;unregister_name(</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Name0</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">),</span><span style="font-family: 'courier new'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">&nbsp;&nbsp;&nbsp;&nbsp;proc_lib:init_ack(</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Starter</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;{error,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Reason</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">}),</span><span style="font-family: 'courier new'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">&nbsp;&nbsp;&nbsp;&nbsp;exit(</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Reason</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">);</span><span style="font-family: 'courier new'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Else</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">&nbsp;-&gt;</span><span style="font-family: 'courier new'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Error</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">&nbsp;=&nbsp;{bad_return_value,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Else</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">},</span><span style="font-family: 'courier new'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">&nbsp;&nbsp;&nbsp;&nbsp;proc_lib:init_ack(</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Starter</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;{error,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Error</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">}),</span><span style="font-family: 'courier new'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">&nbsp;&nbsp;&nbsp;&nbsp;exit(</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Error</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">)</span><span style="font-family: 'courier new'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; text-indent: 21pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(160,32,240); font-size: 10pt; font-weight: bold; mso-spacerun: 'yes'">end</span><span style="font-family: 'courier new'; color: rgb(0,0,255); font-size: 10pt; mso-spacerun: 'yes'">.</span><span style="font-family: 'courier new'; color: rgb(0,0,255); font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; text-indent: 21pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,255); font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'times new roman'; font-size: 10pt; mso-spacerun: 'yes'">又是调用了supervisor的init方法</span><span style="font-family: 'courier new'; color: rgb(0,0,255); font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; text-indent: 21pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,255); font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: '宋体'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">init({</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">SupName</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Mod</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Args</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">})&nbsp;-&gt;</span><span style="font-family: 'courier new'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">&nbsp;&nbsp;&nbsp;&nbsp;process_flag(trap_exit,&nbsp;true),</span><span style="font-family: 'courier new'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-family: 'courier new'; color: rgb(160,32,240); font-size: 10pt; font-weight: bold; mso-spacerun: 'yes'">case</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Mod</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">:init(</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Args</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">)&nbsp;</span><span style="font-family: 'courier new'; color: rgb(160,32,240); font-size: 10pt; font-weight: bold; mso-spacerun: 'yes'">of</span><span style="font-family: 'courier new'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">{ok,&nbsp;{</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">SupFlags</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">StartSpec</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">}}&nbsp;-&gt;</span><span style="font-family: 'courier new'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-family: 'courier new'; color: rgb(160,32,240); font-size: 10pt; font-weight: bold; mso-spacerun: 'yes'">case</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">&nbsp;init_state(</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">SupName</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">SupFlags</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Mod</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Args</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">)&nbsp;</span><span style="font-family: 'courier new'; color: rgb(160,32,240); font-size: 10pt; font-weight: bold; mso-spacerun: 'yes'">of</span><span style="font-family: 'courier new'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">{ok,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">State</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">}&nbsp;</span><span style="font-family: 'courier new'; color: rgb(160,32,240); font-size: 10pt; font-weight: bold; mso-spacerun: 'yes'">when</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">&nbsp;?is_simple(</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">State</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">)&nbsp;-&gt;</span><span style="font-family: 'courier new'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">&nbsp;&nbsp;&nbsp;&nbsp;init_dynamic(</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">State</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">StartSpec</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">);</span><span style="font-family: 'courier new'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">{ok,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">State</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">}&nbsp;-&gt;</span><span style="font-family: 'courier new'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">&nbsp;&nbsp;&nbsp;&nbsp;init_children(</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">State</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">StartSpec</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">);</span><span style="font-family: 'courier new'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Error</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">&nbsp;-&gt;</span><span style="font-family: 'courier new'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">&nbsp;&nbsp;&nbsp;&nbsp;{stop,&nbsp;{supervisor_data,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Error</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">}}</span><span style="font-family: 'courier new'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-family: 'courier new'; color: rgb(160,32,240); font-size: 10pt; font-weight: bold; mso-spacerun: 'yes'">end</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">;</span><span style="font-family: 'courier new'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">ignore&nbsp;-&gt;</span><span style="font-family: 'courier new'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">&nbsp;&nbsp;&nbsp;&nbsp;ignore;</span><span style="font-family: 'courier new'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Error</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">&nbsp;-&gt;</span><span style="font-family: 'courier new'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">&nbsp;&nbsp;&nbsp;&nbsp;{stop,&nbsp;{bad_return,&nbsp;{</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Mod</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">,&nbsp;init,&nbsp;</span><span style="font-family: 'courier new'; color: rgb(184,134,11); font-size: 10pt; mso-spacerun: 'yes'">Error</span><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">}}}</span><span style="font-family: 'courier new'; font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; text-indent: 21pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,0); font-size: 10pt; mso-spacerun: 'yes'">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-family: 'courier new'; color: rgb(160,32,240); font-size: 10pt; font-weight: bold; mso-spacerun: 'yes'">end</span><span style="font-family: 'courier new'; color: rgb(0,0,255); font-size: 10pt; mso-spacerun: 'yes'">.</span><span style="font-family: 'courier new'; color: rgb(0,0,255); font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; text-indent: 21pt; margin-bottom: 0pt"><span style="font-family: 'courier new'; color: rgb(0,0,255); font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<p class="p0" style="margin-top: 0pt; margin-bottom: 0pt"><span style="font-family: 'times new roman'; font-size: 10pt; mso-spacerun: 'yes'">呵呵，到了这里终于调用了rabbit_sup的init方法了，根据不同的init返回值做不同的启动子进程的操作。</span><span style="font-family: '宋体'; color: rgb(0,0,255); font-size: 10pt; mso-spacerun: 'yes'"><o:p></o:p></span></p>
<!--EndFragment-->